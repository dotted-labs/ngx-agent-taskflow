<div class="px-4 py-1 flex flex-col gap-2">
  <div class="border border-base-300 rounded-lg overflow-hidden">
    <div class="flex justify-between bg-base-200 items-center cursor-pointer gap-2 px-4 p-2" (click)="toggleCollapse()">
      <span class="block text-xs text-base-content/60 w-full truncate text-ellipsis font-semibold">üîç {{ toolMessage() }}</span>
      <ng-icon [name]="isCollapsed() ? 'tablerChevronDown' : 'tablerChevronUp'" size="16" class="text-base-content/30"></ng-icon>
    </div>

    @if (!isCollapsed() && toolData()) {
      <div class="p-4 border-t border-base-300 text-xs">
        @if (isJson()) {
          <pre>{{ toolData() | json }}</pre>
        } @else if (isMarkdown()) {
          <div markdown [data]="toolData()"></div>
        } @else if (isObject()) {
          <pre>{{ toolData() | json }}</pre>
        } @else {
          <div markdown [data]="toolData()"></div>
        }
      </div>
    }
  </div>
</div>
